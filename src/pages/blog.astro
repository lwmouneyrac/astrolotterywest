---
import BaseLayout from "../layouts/BaseLayout.astro";
import Crumbtrail from "../components/Crumbtrail.astro";
import BlogSearchInputs from "../components/BlogSearchInputs.astro";
import BlogSearchResults from "../components/BlogSearchResults.jsx";
import { getCollection } from "astro:content";

const pageTitle = "The winning experience blog";
const posts = await getCollection("post");
---

<>
    <BaseLayout pageTitle={pageTitle}>
        <div class="flex flex-col">
            <div class="flex justify-center bg-white text-sm">
                <div class="max-width-container m-1">
                    <Crumbtrail />
                </div>
            </div>
            <div class="flex flex-col bg-lightyellow py-10">
                <div class="max-width-container flex flex-col pb-7">
                    <h1 class="mb-7">The winning experience blog</h1>
                </div>
                <div class="max-width-container flex flex-col">
                    <BlogSearchInputs />
                    <BlogSearchResults posts={posts} client:load />
                </div>
            </div>
        </div>
    </BaseLayout>
</>
